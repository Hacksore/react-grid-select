{"version":3,"file":"index.es.js","sources":["../node_modules/clsx/dist/clsx.m.js","../src/GridSelect.tsx"],"sourcesContent":["function toVal(mix) {\n\tvar k, y, str='';\n\n\tif (typeof mix === 'string' || typeof mix === 'number') {\n\t\tstr += mix;\n\t} else if (typeof mix === 'object') {\n\t\tif (Array.isArray(mix)) {\n\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tif (y = toVal(mix[k])) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (k in mix) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\tstr += k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, tmp, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (tmp = arguments[i++]) {\n\t\t\tif (x = toVal(tmp)) {\n\t\t\t\tstr && (str += ' ');\n\t\t\t\tstr += x\n\t\t\t}\n\t\t}\n\t}\n\treturn str;\n}\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport { MouseEventHandler, useEffect, useState } from \"react\";\nimport \"./style.css\";\n\ntype CellProperties = {\n  coords: any;\n  activeCell: any;\n  hoverCell: any;\n  onClick: MouseEventHandler<HTMLDivElement>;\n  onMouseEnter: MouseEventHandler<HTMLDivElement>;\n};\n\nconst Cell = ({\n  coords,\n  activeCell,\n  onClick,\n  hoverCell,\n  onMouseEnter,\n}: CellProperties) => {\n  const isActive = () => {\n    if (coords.x <= activeCell.x && coords.y <= activeCell.y) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const isHover = () => {\n    if (hoverCell && coords.x <= hoverCell.x && coords.y <= hoverCell.y) {\n      return true;\n    }\n\n    return false;\n  };\n\n  return (\n    <div\n      className={clsx(\"cell\", {\n        active: isActive(),\n        hoverCell: isHover(),\n      })}\n      onClick={onClick}\n      onMouseEnter={onMouseEnter}\n    />\n  );\n};\n\ntype RegionSelectionProperties = {\n  rows?: number;\n  cols?: number;\n  onRegionUpdate: Function;\n};\n\nconst GridSelect = ({\n  onRegionUpdate,\n  rows = 1,\n  cols = 1,\n}: RegionSelectionProperties) => {\n  const [activeCell, setActiveCell] = useState<any>({\n    x: 0,\n    y: 0,\n  });\n  const [hoverCell, setHoverCell] = useState<any>(null);\n\n  useEffect(() => {\n    onRegionUpdate({\n      width: activeCell.x,\n      height: activeCell.y,\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeCell]);\n\n  // grid setting\n  const gridCss = {\n    gridTemplateColumns: Array(cols).fill(\"24px\").join(\" \"),\n    gridGap: 5,\n  }\n\n  return (\n    <>\n      <div className=\"wrapper\" style={gridCss} onMouseLeave={() => setHoverCell(null)}>\n        {Array(cols*rows)\n          .fill(0)\n          .map((item, index) => {\n            const coords = {\n              x: index % rows,\n              y: Math.floor(index / rows),\n            };\n            return (\n              <Cell\n                coords={coords}\n                key={index}\n                onClick={() => setActiveCell(coords)}\n                onMouseEnter={() => setHoverCell(coords)}\n                activeCell={activeCell}\n                hoverCell={hoverCell}\n              />\n            );\n          })}\n      </div>\n    </>\n  );\n};\n\nexport { GridSelect };\n"],"names":[],"mappings":"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"}